CREATE EXTENSION test_dsm_registry;
SELECT set_val_in_shmem(1236);
 set_val_in_shmem 
------------------
 
(1 row)

SELECT set_val_in_hash('test', '1414');
 set_val_in_hash 
-----------------
 
(1 row)

\c
SELECT get_val_in_shmem();
 get_val_in_shmem 
------------------
             1236
(1 row)

SELECT get_val_in_hash('test');
 get_val_in_hash 
-----------------
 1414
(1 row)

\c
SELECT name, type, size > 0 OR size ISNULL as size FROM pg_dsm_registry_allocations WHERE name like 'test_dsm_registry%';
          name          | type | size 
------------------------+------+------
 test_dsm_registry_dsa  | dsa  | t
 test_dsm_registry_hash | dsh  | t
 test_dsm_registry_dsm  | dsm  | t
(3 rows)

